<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data &amp; Workflows</title>
    <meta charset="utf-8" />
    <meta name="author" content="Alison Hill" />
    <meta name="author" content="Thomas Mock" />
    <meta name="date" content="2020-10-06" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/my-theme.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/my-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">







class: title-slide, center, middle

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #ffffffcc;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#3b4245;"&gt;04&lt;/strong&gt;
&lt;/span&gt; 

# Data &amp; Workflows

## R Markdown for Pharma

### Alison Hill, Thomas Mock &amp;#183; RStudio

#### [rmd4pharma.netlify.app/](https://rmd4pharma.netlify.app/)


---
class: middle, center

# &lt;i class="fas fa-cloud"&gt;&lt;/i&gt;

# Go here and log in (free):

&lt;https://rstd.io/rmd4pharma-cloud&gt;

---
layout: true

&lt;div class="my-footer"&gt;&lt;span&gt;https://rmd4pharma.netlify.app/&lt;/span&gt;&lt;/div&gt;

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;1 &lt;/strong&gt;
&lt;/span&gt; 

--

# Hygiene


---
class: middle, center

# Philosophy

--

.pull-left[

### Less

# üê≠
]

.pull-right[

### More

# üéπ
]

---
class: middle, center


.pull-left[
![](https://raw.githubusercontent.com/hadley/r4ds/master/screenshots/rstudio-workspace.png)&lt;!-- --&gt;
]

.pull-right[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

In RStudio: _Tools &gt; Global Options_

]

---
class: middle, center

# Restart R early &amp; often

.pull-left[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

In RStudio: _Session &gt; Restart R_
]

.pull-right[
# &lt;i class="far fa-keyboard"&gt;&lt;/i&gt;

`Cmd/Ctrl` + `Shift` + `F10` (Mac)   
or  
`Ctrl` + `Shift` + `F10` (Windows/Linux)

]

---
class: middle, center

# Reknit up to...

.pull-left[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

![](images/rstudio-runabove.png)

]

.pull-right[
# &lt;i class="far fa-keyboard"&gt;&lt;/i&gt;

Place cursor anywhere in your doc then:

`Command` + `Option` + `P` (Mac)  
or  
`Ctrl`+`Alt`+`P`  (Windows/Linux)
]


---
class: middle, center

# &lt;i class="fas fa-smoking-ban"&gt;&lt;/i&gt;

# Not recommended


```r
rm(list = ls())
```

.footnote[https://whattheyforgot.org/save-source.html#rm-list-ls]

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;2 &lt;/strong&gt;
&lt;/span&gt; 

--

# Projects


---
class: center, middle

# R projects

&lt;img src="images/rproj.png" width="171" /&gt;


---
class: middle, center

.pull-left[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

_File &gt; New Project..._
&lt;img src="images/rstudio-new.png" width="2056" /&gt;
]
--

.pull-right[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

Pick one
&lt;img src="images/rstudio-newproj.png" width="1773" /&gt;
]

---
class: middle, center


# &lt;i class="far fa-keyboard"&gt;&lt;/i&gt;

Equivalent to:
_File &gt; New Project...&gt;_ New or Existing


```r
library(usethis)
create_project(here::here())
```

.footnote[https://usethis.r-lib.org/reference/create_package.html]

---
class: middle, center

.pull-left[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

_File &gt; New File &gt; R Markdown..._
&lt;img src="images/rstudio-newfile.png" width="2037" /&gt;
]
--

.pull-right[
# &lt;i class="fas fa-mouse-pointer"&gt;&lt;/i&gt;

Fill in, can leave as HTML
&lt;img src="images/rstudio-newrmd.png" width="1768" /&gt;
]

---
class: middle, center

.pull-left[
# &lt;i class="fas fa-trash-alt"&gt;&lt;/i&gt;

![](images/rstudio-freshrmd.png)
]

--

.pull-right[
# &lt;i class="fas fa-save"&gt;&lt;/i&gt;

![](images/rstudio-blankrmd.png)
]

---
class: live-code

# Live code demo

We make our first R project from scratch with a single R Markdown file inside.


---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;3 &lt;/strong&gt;
&lt;/span&gt; 

--

# External files

---
class: center

&lt;img src="images/Data.jpg" width="1027" /&gt;

???

save a local copy, keep raw data raw

---
class: middle

# File paths

.pull-left[

### &lt;i class="far fa-thumbs-down"&gt;&lt;/i&gt;


```r
"~/mm/nope.csv"
setwd("/haha/good/luck/")
setwd('c:\iamyournightmare\!')
setwd("C:\user\oh\no")
setwd("path/that/only/works/on/my/machine")
```

### &lt;i class="far fa-thumbs-up"&gt;&lt;/i&gt;


```r
mockdata &lt;- read_csv(
  here::here("data/mockdata.csv")
  )
```

]

.pull-right[
&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="images/horst_here.png" alt="Art by Allison Horst" width="90%" /&gt;
&lt;p class="caption"&gt;Art by Allison Horst&lt;/p&gt;
&lt;/div&gt;
]

https://whattheyforgot.org/project-oriented-workflow.html#setwd

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;4 &lt;/strong&gt;
&lt;/span&gt; 

--

# Bibliography

---


See [citations](http://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html#citations)


.pull-right[
Generates these in-text citation styles:

1. Blah blah [see @R-blogdown, pp. 33-35; also @R-knitr, ch. 1].

2. Blah blah [@R-blogdown, pp. 33-35].

3. Blah blah [@R-blogdown; @R-knitr].

4. Yihui says blah [-@R-blogdown].

5. @R-blogdown says blah.

]

---
class: your-turn

# Your turn

### Choose your adventure

1. Take `04-manuscript.Rmd` and add in the tables and figures in code chunks, with code chunk options that make sense. üß∂ __Knit__ and/or run chunks interactively as you work.

1. Play with knitting to different output formats. Try to figure out valid output options for each format you can add to your YAML. 

1. Go to https://github.com/thomasp85/scico and try knitting with different palette names. Pick a favorite.

__Too much?__ Look at `04-manuscript-alison.Rmd`, üß∂ __Knit__. Then do 2 and 3 above.

__Not enough?__ See next slide for building a graphical user interface for parameters.

<div class="countdown" id="timer_5f7d3ef9" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---
class: your-turn

# Your turn

### Extra: Play more with parameters

.pull-left[

From `03-draft.Rmd`

```yaml
---
params:
  palette: berlin
---
```

]

.pull-right[

Try in `04-manuscript.Rmd`

```yaml
---
params:
  palette:
    input: select
    label: 'scico palette:'
    choices:
    - berlin
    - roma
    - cork
    - grayC
    selected: roma
---
```
]

---

# If we have time...


.pull-left[

Open &amp; Knit:

`analyis/presentations/slides.Rmd`

```yaml
---
output:
  beamer_presentation:
    slide_level: 2.0
  powerpoint_presentation: default
  revealjs::revealjs_presentation: default
---
```
]

.pull-right[

![](04-data-workflows_files/figure-html/unnamed-chunk-17-1.gif)&lt;!-- --&gt;


]


---
class: middle, center, inverse


# Time to wrap-up!

<div class="countdown blink-colon noupdate-15" id="timer_5f7d3d02" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;!&lt;/strong&gt;
&lt;/span&gt; 


# Extension formats

---
class: middle, center

# Dashboards

&lt;a href="https://jenthompson.me/examples/progressdash.html" target="_blank"&gt;&lt;img src="https://jenthompson.me/images/flexdash_example.png" width="50%" /&gt;&lt;/a&gt;

https://jenthompson.me/examples/progressdash.html

https://jenthompson.me/2018/02/09/flexdashboards-monitoring/

---
class: middle, center

# Presentations

&lt;img src="04-data-workflows_files/figure-html/unnamed-chunk-20-1.gif" width="50%" /&gt;

https://bookdown.org/yihui/rmarkdown/presentations.html

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;!&lt;/strong&gt;
&lt;/span&gt; 


# Cheatsheets!

---
class: middle

.left-column[

# üìå

]

.right-column[

_Help &gt; Cheatsheets &gt; RStudio IDE_

&lt;a href="https://www.rstudio.com/resources/cheatsheets/#ide" target="_blank"&gt;&lt;img src="https://442r58kc8ke1y38f62ssb208-wpengine.netdna-ssl.com/wp-content/uploads/2018/08/rstudio-ide.png" width="50%" /&gt;&lt;/a&gt;
]

.footnote[https://www.rstudio.com/resources/cheatsheets/#ide]

---
class: middle

.left-column[
# üìå
]

.right-column[
_Help &gt; Cheatsheets &gt; R Markdown Cheat Sheet_

&lt;a href="https://www.rstudio.com/resources/cheatsheets/#rmarkdown" target="_blank"&gt;&lt;img src="https://442r58kc8ke1y38f62ssb208-wpengine.netdna-ssl.com/wp-content/uploads/2018/08/rmarkdown-2.0.png" width="50%" /&gt;&lt;/a&gt;
]

.footnote[https://www.rstudio.com/resources/cheatsheets/#rmarkdown]

---
class: middle

.left-column[
# üìå
]

.right-column[
_Help &gt; Cheatsheets &gt; R Markdown Reference Guide_

&lt;a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf" target="_blank"&gt;&lt;img src="https://442r58kc8ke1y38f62ssb208-wpengine.netdna-ssl.com/wp-content/uploads/2015/03/rmarkdown-reference-guide.png" width="40%" /&gt;&lt;/a&gt;

]

.footnote[https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf]

---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;!&lt;/strong&gt;
&lt;/span&gt; 


# Book!

---
class: middle

.left-column[
# üìñ
]

.right-column[

&lt;a href="https://bookdown.org/yihui/rmarkdown/" target="_blank"&gt;&lt;img src="https://bookdown.org/yihui/rmarkdown/images/cover.png" width="40%" /&gt;&lt;/a&gt;
]

.footnote[https://bookdown.org/yihui/rmarkdown/]


---
class: middle, center, inverse

&lt;span class="fa-stack fa-4x"&gt;
  &lt;i class="fa fa-circle fa-stack-2x" style="color: #fff;"&gt;&lt;/i&gt;
  &lt;strong class="fa-stack-1x" style="color:#2f5275;"&gt;!&lt;/strong&gt;
&lt;/span&gt; 


# Websites!

---
class: middle

.left-column[
# üîó
]

.right-column[

&lt;a href="https://rmarkdown.rstudio.com/" target="_blank"&gt;&lt;img src="images/rmarkdown-site.png" width="80%" /&gt;&lt;/a&gt;
]

.footnote[https://rmarkdown.rstudio.com/]

---
class: middle

.left-column[
# üîó
]

.right-column[

&lt;a href="https://rmarkdown.rstudio.com/docs/" target="_blank"&gt;&lt;img src="images/rmarkdowndocs-site.png" width="80%" /&gt;&lt;/a&gt;
]

.footnote[https://rmarkdown.rstudio.com/docs/]

---
class: middle

.left-column[
# üéØ
]

.right-column[

&lt;a href="https://community.rstudio.com/c/R-Markdown" target="_blank"&gt;&lt;img src="images/rmarkdowncommunity-site.png" width="80%" /&gt;&lt;/a&gt;
]

.footnote[https://community.rstudio.com/c/R-Markdown]

---
class: middle

.left-column[
# ü§ñ
]

.right-column[

&lt;a href="https://rmarkdown.rstudio.com/lesson-6.html" target="_blank"&gt;&lt;img src="https://raw.githubusercontent.com/rstudio/rmarkdown/gh-pages/lesson-images/params-1-hawaii.png" width="80%" /&gt;&lt;/a&gt;
]

.footnote[https://bookdown.org/yihui/rmarkdown/parameterized-reports.html,&lt;br&gt;
https://rmarkdown.rstudio.com/lesson-6.html]

---

# More

+ [`redoc` üì¶](https://noamross.github.io/redoc/)

+ [`spelling` üì¶](https://docs.ropensci.org/spelling/)

+ [`wordcountaddin` üì¶](https://github.com/benmarwick/wordcountaddin)


---
class: inverse, middle, center

# Thank you!

Thanks to Peter Higgins &amp; Daniel Chen for all their hard work
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "dracula",
"highlightLanguage": ["r", "yaml", "markdown"],
"slideNumberFormat": "",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
